(this["webpackJsonpgeri-react"]=this["webpackJsonpgeri-react"]||[]).push([[21],{108:function(e,t,n){"use strict";var c=n(33),o=n(0),r=n(18),a=n(225),i=n(217),s=n(3),l=Object(r.a)({formWrap:{display:"flex",flexDirection:"column"},form:{display:"flex",flexDirection:"column"},checkboxWrap:{paddingTop:20},checkbox:{margin:{left:10,right:3}},buttonsWrap:{display:"flex",justifyContent:"space-between",padding:20}});t.a=function(e){var t=e.onSubmit,n=Object(o.useState)(!1),r=Object(c.a)(n,2),u=r[0],d=r[1],b=Object(o.useState)(""),j=Object(c.a)(b,2),h=j[0],f=j[1],p=Object(o.useState)("low"),x=Object(c.a)(p,2),O=x[0],m=x[1],g=l(),v=function(){d((function(e){return!e})),f(""),m("low")},y=function(e){return m(e.target.value)};return Object(s.jsx)("div",{className:g.formWrap,children:u?Object(s.jsxs)("form",{className:g.form,onSubmit:function(e){if(e.preventDefault(),h){var n={date:Date.now(),isDone:!1,value:h,urgency:O};t(n),f(""),m("low"),d(!1)}},children:[Object(s.jsx)(a.a,{label:"Enter todo",value:h,onChange:function(e){return f(e.target.value)}}),Object(s.jsxs)("div",{className:g.checkboxWrap,children:[Object(s.jsx)("span",{children:"Urgency:"}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{className:g.checkbox,type:"radio",value:"low",checked:"low"===O,onChange:y}),Object(s.jsx)("span",{children:"Low"})]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{className:g.checkbox,type:"radio",value:"medium",checked:"medium"===O,onChange:y}),Object(s.jsx)("span",{children:"Medium"})]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{className:g.checkbox,type:"radio",value:"high",checked:"high"===O,onChange:y}),Object(s.jsx)("span",{children:"High"})]})]}),Object(s.jsxs)("div",{className:g.buttonsWrap,children:[Object(s.jsx)(i.a,{color:"primary",onClick:v,children:"Cancel"}),Object(s.jsx)(i.a,{variant:"contained",color:"primary",type:"submit",children:"Add todo"})]})]}):Object(s.jsx)(i.a,{variant:"contained",color:"primary",onClick:v,children:"+ Add todo"})})}},123:function(e,t,n){"use strict";var c=n(17),o=n(18),r=Object(o.a)({modal__backdrop:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)"},modal__title:{margin:0},modal__content:{position:"absolute",top:"50%",left:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:12,minHeight:300,minWidth:600,transform:"translate(-50%, -50%)",backgroundColor:"#fff",borderRadius:3,boxShadow:"0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12)"},modal__btn:{padding:{top:10,left:20,right:20,bottom:10},margin:10,fontSize:16,textTransform:"uppercase",cursor:"pointer",color:"white",backgroundColor:"teal",border:"none",borderRadius:4,outline:"none","&:hover":{backgroundColor:"tomato"}}}),a=n(3),i=document.querySelector("#todoModal-root");t.a=function(e){var t=e.onOk,n=e.onCancel,o=e.text,s=r();return Object(c.createPortal)(Object(a.jsx)("div",{className:s.modal__backdrop,children:Object(a.jsxs)("div",{className:s.modal__content,children:[Object(a.jsxs)("h2",{className:s.modal__title,children:["Delete Todo ",o]}),Object(a.jsxs)("p",{children:["Do you really want to delete todo ",o,"?"]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:s.modal__btn,type:"button",onClick:n,children:"Cancel"}),Object(a.jsx)("button",{className:s.modal__btn,type:"button",onClick:t,children:"Ok"})]})]})}),i)}},243:function(e,t,n){"use strict";n.r(t);var c=n(16),o=n(33),r=n(0),a=n.n(r),i=n(108),s=n(139),l=n.n(s),u=n(218),d=n(219),b=n(220),j=n(221),h=n(222),f=n(223),p=n(240),x=n(224),O=n(92),m=n.n(O),g=n(3),v=Object(u.a)({todosItem:{marginBottom:10,backgroundColor:"#eeeeff"}}),y=function(e){var t=e.todo,n=t.id,c=t.date,o=t.value,r=t.urgency,a=t.isDone,i=e.onToggle,s=e.onDelete,u=l()(c).format("DD/MM/YYYY hh:mm:ss"),O=v().todosItem;return console.log("render",n),Object(g.jsx)(d.a,{className:O,children:Object(g.jsxs)(b.a,{children:[Object(g.jsxs)(j.a,{children:[Object(g.jsx)("p",{children:o}),Object(g.jsx)("p",{children:r}),Object(g.jsx)("p",{children:u})]}),Object(g.jsx)(h.a,{}),Object(g.jsxs)(f.a,{children:[Object(g.jsx)(p.a,{checked:a,onChange:function(){return i(n)},color:"primary",inputProps:{"aria-label":"secondary checkbox"}}),Object(g.jsx)(x.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){return s(n)},children:Object(g.jsx)(m.a,{})})]})]})})},C=function(e,t){return e.todo.isDone===t.todo.isDone},k=a.a.memo(y,C),D=function(e){var t=e.todos,n=e.onDelete,c=e.onToggle;return Object(g.jsx)("div",{children:t.map((function(e){return Object(g.jsx)(k,{todo:e,onDelete:n,onToggle:c},e.id)}))})},_=n(140),w=n.n(_),S=n(123),N=n(88),T=n.n(N);T.a.defaults.baseURL="http://localhost:2221";var W=n(36);t.default=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(r.useState)(!1),j=Object(o.a)(b,2),h=j[0],f=j[1],p=Object(r.useState)(""),x=Object(o.a)(p,2),O=x[0],m=x[1];return Object(r.useEffect)((function(){a(!0),T.a.get("/todos").then((function(e){return e.data})).then((function(e){return d(e)})).then((function(){return Object(W.b)("All data received from the db.json",{type:"success",autoClose:2e3})})).catch((function(e){return Object(W.b)(e.message,{type:"error",autoClose:2e3})})).finally((function(){return a(!1)}))}),[]),Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)("h1",{children:"Todos"}),Object(g.jsx)(w.a,{color:"teal",loading:n,size:25,margin:5}),!n&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(i.a,{onSubmit:function(e){var t;u.find((function(t){return t.value===e.vlue}))||(t=e,T.a.post("/todos",t).then((function(e){return e.data}))).then((function(e){return d((function(t){return[e].concat(Object(c.a)(t))}))})).then((function(){return Object(W.b)("A new todo has been added to the state",{type:"success",autoClose:2e3})})).catch((function(e){return Object(W.b)(e.message,{type:"error",autoClose:2e3})}))}}),Object(g.jsx)(D,{todos:u,onDelete:function(e){m(u.find((function(t){return t.id===e}))),f(!0)},onToggle:function(e){var t=u.find((function(t){return t.id===e}));(function(e,t){return T.a.patch("/todos/".concat(e),t).then((function(e){return e.data}))})(e,{isDone:!t.isDone}).then((function(e){return d((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))})).then((function(){return Object(W.b)("".concat(O.value," successfully updated"),{type:"success",autoClose:2e3})})).catch((function(e){return Object(W.b)(e.message,{type:"error",autoClose:2e3})}))}})]}),h&&Object(g.jsx)(S.a,{text:O.value,onOk:function(){var e;f(!1),(e=O.id,T.a.delete("/todos/".concat(e)).then((function(){return e}))).then((function(e){return d((function(t){return t.filter((function(t){return t.id!==e}))}))})).then((function(){return Object(W.b)("".concat(O.value," successfully deleted"),{type:"success",autoClose:2e3})})).catch((function(e){return Object(W.b)(e.message,{type:"error",autoClose:2e3})}))},onCancel:function(){return f(!1)}}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:"use JSON Server 2221"}),Object(g.jsx)("li",{children:"use React Spinners"}),Object(g.jsx)("li",{children:"use React-Toastify"}),Object(g.jsx)("li",{children:"use axios"})]})]})}}}]);
//# sourceMappingURL=Todos.799c35ce.chunk.js.map