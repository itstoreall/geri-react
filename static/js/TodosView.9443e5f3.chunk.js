/*! For license information please see TodosView.9443e5f3.chunk.js.LICENSE.txt */
(this["webpackJsonpgeri-react"]=this["webpackJsonpgeri-react"]||[]).push([[20],{102:function(t,e,n){},219:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(21),a=n(73),c=n(20),i=n(72),s=n(71),l=n(88),u=n.n(l),d=n(213),f=n(97),h=n.n(f),p=n(229),b=(n(102),n(3)),j=function(t){var e=t.text,n=t.completed,o=t.onToggleCompleted,r=t.onDelete;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:Object(b.jsx)(p.a,{type:"checkbox",className:"TodoList__checkbox",checked:n,onChange:o,color:"primary",inputProps:{"aria-label":"secondary checkbox"}})}),Object(b.jsx)("p",{className:"TodoList__text",children:e}),Object(b.jsx)(d.a,{type:"button",className:"TodoList__btn",onClick:r,disabled:!n,color:"primary","aria-label":"delete todo",component:"span",children:Object(b.jsx)(h.a,{})})]})},m=function(t){var e=t.todos,n=t.onDeleteTodo,o=t.onToggleCompleted;return Object(b.jsx)("ul",{className:"TodoList",children:e.map((function(t){var e=t.id,r=t.text,a=t.completed;return Object(b.jsx)("li",{className:u()("TodoList__item",{"TodoList__item--completed":a}),children:Object(b.jsx)(j,{id:e,text:r,completed:a,onToggleCompleted:function(){return o(e)},onDelete:function(){return n(e)}})},e)}))})},v=n(214),g=n(206),O=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={message:""},t.handleChange=function(e){t.setState({message:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.message),t.setState({message:""})},t.handleKeyDown=function(e){var n=t.state.message;"Enter"===e.code&&""!==n&&t.props.onSubmit(n)},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(b.jsxs)("form",{className:"TodoEditor",onSubmit:this.handleSubmit,children:[Object(b.jsx)("label",{className:"TodoEditor__textarea-label",children:Object(b.jsx)(v.a,{className:"TodoEditor__textarea",value:this.state.message,onChange:this.handleChange,id:"outlined-multiline-static",label:"Todo text",multiline:!0,rows:2,variant:"outlined"})}),Object(b.jsx)(g.a,{className:"TodoEditor__btn",variant:"contained",color:"primary",type:"submit",children:"Submit"})]})}}]),n}(o.Component),y=function(t){var e=t.value,n=t.onChange;return Object(b.jsx)("label",{className:"TodoFilter-label",children:Object(b.jsx)(v.a,{type:"text",className:"TodoInput",value:e,onChange:n,id:"outlined-basic",label:"Filter by name"})})},x=n(90),T=n.n(x),C=n(91),w=n(84),_=n.n(w),k={fetchTodos:function(){return _.a.get("http://localhost:2222/todos").then((function(t){return t.data}))},addTodo:function(t){return _.a.post("http://localhost:2222/todos",t).then((function(t){return t.data}))},deleteTodo:function(t){return _.a.delete("http://localhost:2222/todos/".concat(t))},updateTodo:function(t,e){return _.a.patch("http://localhost:2222/todos/".concat(t),e).then((function(t){return t.data}))}},S=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={todos:[],filter:"",showModal:!1},t.addTodo=function(e){var n={text:e,completed:!1};k.addTodo(n).then((function(e){t.setState((function(t){var n=t.todos;return{todos:[].concat(Object(r.a)(n),[e])}})),t.toggleModal()}))},t.deleteTodo=function(e){k.deleteTodo(e).then((function(){t.setState((function(t){return{todos:t.todos.filter((function(t){return t.id!==e}))}}))}))},t.toggleCompleted=function(e){var n={completed:!t.state.todos.find((function(t){return t.id===e})).completed};k.updateTodo(e,n).then((function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return t.id===e.id?e:t}))}}))}))},t.changeFilter=function(e){t.setState({filter:e.currentTarget.value})},t.getVisibleTodos=function(){var e=t.state,n=e.filter,o=e.todos,r=n.toLowerCase();return o.filter((function(t){return t.text.toLowerCase().includes(r)}))},t.calculateCompletedTodo=function(){return t.state.todos.reduce((function(t,e){return e.completed?t+1:t}),0)},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.handleInputChange=function(e){t.setState({inputValue:e.currentTarget.value})},t.handleLicenseChange=function(e){t.setState({license:e.currentTarget.checked})},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;k.fetchTodos().then((function(e){return t.setState({todos:e})})).catch((function(t){return console.log(t)}))}},{key:"componentDidUpdate",value:function(t,e){var n=this.state.todos;n!==e.todos&&localStorage.setItem("todos",JSON.stringify(n))}},{key:"render",value:function(){var t=this.state,e=t.todos,n=t.filter,r=t.showModal,a=e.length,c=this.calculateCompletedTodo(),i=this.getVisibleTodos();return Object(b.jsxs)(o.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["Total: ",a]}),Object(b.jsxs)("p",{children:["Completed: ",c]})]}),Object(b.jsx)(g.a,{className:"ModaOpen__btn",onClick:this.toggleModal,variant:"contained",color:"primary",type:"button",children:"+ Add Todo"}),r&&Object(b.jsxs)(C.a,{onClose:this.toggleModal,children:[Object(b.jsx)("span",{className:"ModaClose__btn-wrap",children:Object(b.jsx)(d.a,{className:"ModaClose__btn",onClick:this.toggleModal,color:"primary","aria-label":"upload picture",component:"span",children:Object(b.jsx)(T.a,{})})}),Object(b.jsx)(O,{onSubmit:this.addTodo})]}),Object(b.jsx)(y,{value:n,onChange:this.changeFilter}),Object(b.jsx)(m,{todos:i,onDeleteTodo:this.deleteTodo,onLicenseChange:this.handleLicenseChange,onToggleCompleted:this.toggleCompleted})]})}}]),n}(o.Component);e.default=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Todos View"}),Object(b.jsx)(S,{}),Object(b.jsx)("ul",{children:Object(b.jsx)("li",{children:"use server-2"})})]})}},71:function(t,e,n){"use strict";function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return i}));var r=n(75),a=n(24);function c(t,e){return!e||"object"!==Object(r.a)(e)&&"function"!==typeof e?Object(a.a)(t):e}function i(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var a=o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c(this,n)}}},72:function(t,e,n){"use strict";function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}n.d(e,"a",(function(){return r}))},88:function(t,e,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var a=typeof o;if("string"===a||"number"===a)t.push(o);else if(Array.isArray(o)&&o.length){var c=r.apply(null,o);c&&t.push(c)}else if("object"===a)for(var i in o)n.call(o,i)&&o[i]&&t.push(i)}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(o=function(){return r}.apply(e,[]))||(t.exports=o)}()},89:function(t,e,n){},90:function(t,e,n){"use strict";var o=n(98),r=n(99);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(0)),c=(0,o(n(100)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.default=c},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(73),r=n(20),a=n(72),c=n(71),i=n(0),s=n(15),l=(n(89),n(3)),u=document.querySelector("#reusedModal-root"),d=function(t){Object(a.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).handleKeyDown=function(e){"Escape"===e.code&&t.props.onClose()},t.handleBackdropClick=function(e){e.currentTarget===e.target&&t.props.onClose()},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(s.createPortal)(Object(l.jsx)("div",{className:"Modal__backdrop",onClick:this.handleBackdropClick,children:Object(l.jsx)("div",{className:"Modal__content",children:this.props.children})}),u)}}]),n}(i.Component)}}]);
//# sourceMappingURL=TodosView.9443e5f3.chunk.js.map