{"version":3,"sources":["components/Todos/TodoInput.jsx","components/Todos/TodoModalStyles.js","components/Todos/TodoModal.jsx","components/Todos/TodoItem.jsx","components/Todos/TodoList.jsx","components/Todos/utils/todosAPI.js","pages/TodosPage.jsx"],"names":["useStyles","createUseStyles","formWrap","display","flexDirection","form","checkboxWrap","paddingTop","checkbox","margin","left","right","buttonsWrap","justifyContent","padding","TodoInput","onSubmit","useState","showForm","setShowForm","value","setValue","urgency","setUrgency","s","toggleForm","prevValue","handleUrgencyChange","e","target","className","preventDefault","newTodo","date","Date","now","isDone","label","onChange","type","checked","color","onClick","variant","modal__backdrop","position","top","width","height","backgroundColor","modal__title","modal__content","alignItems","minHeight","minWidth","transform","borderRadius","boxShadow","modal__btn","bottom","fontSize","textTransform","cursor","border","outline","todoModalRoot","document","querySelector","TodoModal","onOk","onCancel","text","createPortal","makeStyles","todosItem","marginBottom","TodoItem","todo","id","onToggle","onDelete","frmatedDate","moment","format","console","log","Card","CardActionArea","CardContent","Divider","CardActions","Checkbox","inputProps","IconButton","aria-label","component","areEqual","prevProps","nextProps","React","memo","TodoList","todos","map","axios","defaults","baseURL","TodosPage","isLoading","setisLoading","setTodos","showModal","setShowModal","currentTodo","setcurrentTodo","useEffect","get","then","data","result","toast","autoClose","catch","error","message","finally","loading","size","payload","find","vlue","post","prevState","patch","updateTodo","updatedTodo","delete","filter"],"mappings":"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","file":"static/js/Todos.94a14c56.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport { Button, TextField } from \"@material-ui/core\";\n\n// JSS\nconst useStyles = createUseStyles({\n  formWrap: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  checkboxWrap: {\n    paddingTop: 20,\n  },\n  checkbox: {\n    margin: {\n      left: 10,\n      right: 3,\n    },\n  },\n  buttonsWrap: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: 20,\n  },\n});\n\nconst TodoInput = ({ onSubmit }) => {\n  const [showForm, setShowForm] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const [urgency, setUrgency] = useState(\"low\");\n  const s = useStyles();\n\n  // Скрывает или показывает форму\n  const toggleForm = () => {\n    setShowForm((prevValue) => !prevValue);\n    setValue(\"\");\n    setUrgency(\"low\");\n  };\n\n  // Записываем значение инпута в стейт\n  const handleInputChange = (e) => setValue(e.target.value);\n\n  // Radio buttons\n  const handleUrgencyChange = (e) => setUrgency(e.target.value);\n\n  // Собираем все данные в объект\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // Проверка на наличие текста в инпуте\n    if (!value) return;\n\n    const newTodo = {\n      // id: Date.now(),\n      date: Date.now(),\n      isDone: false,\n      value,\n      urgency,\n    };\n\n    // Отправляем тудушку через функцию из пропс\n    onSubmit(newTodo);\n\n    // Reset\n    setValue(\"\");\n    setUrgency(\"low\");\n    setShowForm(false);\n  };\n\n  return (\n    <div className={s.formWrap}>\n      {showForm ? (\n        <form className={s.form} onSubmit={handleSubmit}>\n          <TextField\n            // className={input}\n            label=\"Enter todo\"\n            value={value}\n            onChange={handleInputChange}\n          />\n          <div className={s.checkboxWrap}>\n            <span>Urgency:</span>\n\n            <label>\n              <input\n                className={s.checkbox}\n                type=\"radio\"\n                value=\"low\"\n                checked={urgency === \"low\"}\n                onChange={handleUrgencyChange}\n              />\n              <span>Low</span>\n            </label>\n\n            <label>\n              <input\n                className={s.checkbox}\n                type=\"radio\"\n                value=\"medium\"\n                checked={urgency === \"medium\"}\n                onChange={handleUrgencyChange}\n              />\n              <span>Medium</span>\n            </label>\n\n            <label>\n              <input\n                className={s.checkbox}\n                type=\"radio\"\n                value=\"high\"\n                checked={urgency === \"high\"}\n                onChange={handleUrgencyChange}\n              />\n              <span>High</span>\n            </label>\n          </div>\n          <div className={s.buttonsWrap}>\n            <Button color=\"primary\" onClick={toggleForm}>\n              Cancel\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              Add todo\n            </Button>\n          </div>\n        </form>\n      ) : (\n        <Button variant=\"contained\" color=\"primary\" onClick={toggleForm}>\n          + Add todo\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport default TodoInput;\n","import { createUseStyles } from \"react-jss\";\n\nexport default createUseStyles({\n  modal__backdrop: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100vw\",\n    height: \"100vh\",\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  },\n\n  modal__title: {\n    margin: 0,\n  },\n\n  modal__content: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 12,\n    minHeight: 300,\n    minWidth: 600,\n    transform: \"translate(-50%, -50%)\",\n    backgroundColor: \"#fff\",\n    borderRadius: 3,\n    boxShadow:\n      \"0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12)\",\n  },\n\n  modal__btn: {\n    padding: {\n      top: 10,\n      left: 20,\n      right: 20,\n      bottom: 10,\n    },\n    margin: 10,\n    fontSize: 16,\n    textTransform: \"uppercase\",\n    cursor: \"pointer\",\n    color: \"white\",\n    backgroundColor: \"teal\",\n    border: \"none\",\n    borderRadius: 4,\n    outline: \"none\",\n\n    \"&:hover\": {\n      backgroundColor: \"tomato\",\n    },\n  },\n});\n","// import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport useStyles from \"./TodoModalStyles\";\n\n// Находит рут в разметке\nconst todoModalRoot = document.querySelector(\"#todoModal-root\");\n\nconst TodoModal = ({ onOk, onCancel, text }) => {\n  const s = useStyles();\n\n  return createPortal(\n    <div className={s.modal__backdrop}>\n      <div className={s.modal__content}>\n        <h2 className={s.modal__title}>Delete Todo {text}</h2>\n        <p>Do you really want to delete todo {text}?</p>\n\n        <div>\n          <button className={s.modal__btn} type=\"button\" onClick={onCancel}>\n            Cancel\n          </button>\n          <button className={s.modal__btn} type=\"button\" onClick={onOk}>\n            Ok\n          </button>\n        </div>\n      </div>\n    </div>,\n    todoModalRoot\n  );\n};\n\nexport default TodoModal;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  IconButton,\n  Checkbox,\n  CardActionArea,\n  Divider,\n} from \"@material-ui/core\";\nimport DeleteTwoToneIcon from \"@material-ui/icons/DeleteTwoTone\";\n\nconst useStyles = makeStyles({\n  todosItem: {\n    marginBottom: 10,\n    backgroundColor: \"#eeeeff\",\n  },\n});\n\nconst TodoItem = ({\n  todo: { id, date, value, urgency, isDone },\n  onToggle,\n  onDelete,\n}) => {\n  const frmatedDate = moment(date).format(\"DD/MM/YYYY hh:mm:ss\");\n  const handleDelete = () => onDelete(id);\n  const handleToggle = () => onToggle(id);\n  const { todosItem } = useStyles();\n\n  // Консолим id после рендера\n  console.log(\"render\", id);\n\n  return (\n    <Card className={todosItem}>\n      <CardActionArea>\n        <CardContent>\n          <p>{value}</p>\n          <p>{urgency}</p>\n          <p>{frmatedDate}</p>\n        </CardContent>\n\n        <Divider />\n\n        <CardActions>\n          <Checkbox\n            checked={isDone}\n            onChange={handleToggle}\n            color=\"primary\"\n            inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n          />\n          <IconButton\n            color=\"primary\"\n            aria-label=\"upload picture\"\n            component=\"span\"\n            onClick={handleDelete}\n          >\n            <DeleteTwoToneIcon />\n          </IconButton>\n        </CardActions>\n      </CardActionArea>\n    </Card>\n  );\n};\n\n// Аналог shouldComponentUpdate\n// Проверка на рендеринг элементов только с измененными props\n// В export default добавляем React.memo и фуркцию areEqual\nconst areEqual = (prevProps, nextProps) =>\n  prevProps.todo.isDone === nextProps.todo.isDone;\n\nexport default React.memo(TodoItem, areEqual);\n","import React from \"react\";\nimport TodoItem from \"./TodoItem\";\n// import TodoItem from \"./TodoItemClass\"; // не удалять\n\nconst TodoList = ({ todos, onDelete, onToggle }) => {\n  return (\n    <div>\n      {todos.map((todo) => (\n        <TodoItem\n          key={todo.id}\n          todo={todo}\n          onDelete={onDelete}\n          onToggle={onToggle}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default TodoList;\n","import axios from \"axios\";\n\n// const url = \"http://localhost:2222\";\naxios.defaults.baseURL = \"http://localhost:2221\";\n\nexport const getTodos = () => axios.get(`/todos`).then(({ data }) => data);\n\nexport const createTodo = (payload) =>\n  axios.post(`/todos`, payload).then(({ data }) => data);\n\nexport const deleteTodo = (id) => axios.delete(`/todos/${id}`).then(() => id);\n\nexport const updateTodo = (id, payload) =>\n  axios.patch(`/todos/${id}`, payload).then(({ data }) => data);\n\n/* =============================== fetch\n\nconst url = \"http://localhost:2222\";\n\n// GET\nexport const getTodos = () => fetch(`${url}/todos`)\n  .then((resp) => resp.json());\n\n// POST\nexport const createTodo = (payload) =>\n  fetch(`${url}/todos`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(payload),\n  }).then((resp) => resp.json());\n\n------------------------------------------- */\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport TodoInput from \"../components/Todos/TodoInput\";\nimport TodoList from \"../components/Todos/TodoList\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\nimport Modal from \"../components/Todos/TodoModal\";\nimport {\n  getTodos,\n  createTodo,\n  deleteTodo,\n  updateTodo,\n} from \"../components/Todos/utils/todosAPI\";\nimport { toast } from \"react-toastify\";\n\nconst TodosPage = () => {\n  const [isLoading, setisLoading] = useState(false);\n  const [todos, setTodos] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [currentTodo, setcurrentTodo] = useState(\"\");\n\n  // Записывае в стейт готовую тудушку\n  const handleSubmit = (todo) => {\n    if (todos.find(({ value }) => value === todo.vlue)) return;\n\n    // Показываем Spinner...\n    // setisLoading(true);\n\n    createTodo(todo)\n      .then((data) => setTodos((prevState) => [data, ...prevState]))\n      .then(() =>\n        toast(`A new todo has been added to the state`, {\n          type: \"success\",\n          autoClose: 2000,\n        })\n      )\n      .catch((error) =>\n        toast(error.message, {\n          type: \"error\",\n          autoClose: 2000,\n        })\n      );\n    // .finally(() => setisLoading(false));\n  };\n\n  // Удаление туду\n  const handleDeleteTodo = (id) => {\n    setcurrentTodo(todos.find((todo) => todo.id === id));\n    setShowModal(true);\n  };\n\n  // Подтверждение удаления\n  const handleOkModal = () => {\n    setShowModal(false);\n    // setisLoading(true);\n\n    deleteTodo(currentTodo.id)\n      .then((id) =>\n        setTodos((prevState) => prevState.filter((todo) => todo.id !== id))\n      )\n      .then(() =>\n        toast(`${currentTodo.value} successfully deleted`, {\n          type: \"success\",\n          autoClose: 2000,\n        })\n      )\n      .catch((error) =>\n        toast(error.message, {\n          type: \"error\",\n          autoClose: 2000,\n        })\n      );\n    // .finally(() => setisLoading(false));\n  };\n\n  // Отмена удаления туду в подтверждении\n  const handleCanselModal = () => setShowModal(false);\n\n  // Изменение значения одного туду\n  const handleToggleTodo = (id) => {\n    const todo = todos.find((todo) => todo.id === id);\n\n    updateTodo(id, { isDone: !todo.isDone })\n      .then((updatedTodo) =>\n        setTodos((prevState) =>\n          prevState.map((todo) =>\n            todo.id === updatedTodo.id ? updatedTodo : todo\n          )\n        )\n      )\n      .then(() =>\n        toast(`${currentTodo.value} successfully updated`, {\n          type: \"success\",\n          autoClose: 2000,\n        })\n      )\n      .catch((error) =>\n        toast(error.message, {\n          type: \"error\",\n          autoClose: 2000,\n        })\n      );\n  };\n\n  // componentDidMount\n  // GET todos from server > db.json (utils > todosAPI)\n  useEffect(() => {\n    setisLoading(true);\n    getTodos()\n      .then((result) => setTodos(result))\n      .then(() =>\n        toast(`All data received from the db.json`, {\n          type: \"success\",\n          autoClose: 2000,\n        })\n      )\n      .catch((error) =>\n        toast(error.message, {\n          type: \"error\",\n          autoClose: 2000,\n        })\n      )\n      .finally(() => setisLoading(false));\n  }, []);\n\n  /* =============================== localStorage\n\n  // Получаем из localStorage (componentDidMount)\n  useEffect(() => {\n    setTodos(JSON.parse(localStorage.getItem(\"todos\")));\n  }, []);\n\n  // Сохраняем в localStorage (componentDidUpdate)\n  useEffect(() => {\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }, [todos]);\n\n  ------------------------------------------- */\n\n  return (\n    <Fragment>\n      <h1>Todos</h1>\n      <PulseLoader color={\"teal\"} loading={isLoading} size={25} margin={5} />\n\n      {!isLoading && (\n        <>\n          <TodoInput onSubmit={handleSubmit} />\n          <TodoList\n            todos={todos}\n            onDelete={handleDeleteTodo}\n            onToggle={handleToggleTodo}\n          />\n        </>\n      )}\n\n      {showModal && (\n        <Modal\n          text={currentTodo.value}\n          onOk={handleOkModal}\n          onCancel={handleCanselModal}\n        />\n      )}\n\n      <ul>\n        <li>use JSON Server 2221</li>\n        <li>use React Spinners</li>\n        <li>use React-Toastify</li>\n        <li>use axios</li>\n      </ul>\n    </Fragment>\n  );\n};\n\nexport default TodosPage;\n"],"sourceRoot":""}