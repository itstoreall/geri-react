{"version":3,"sources":["components/Pokemon/PokemonForm.jsx","components/Pokemon/PokemonDataView.jsx","components/Pokemon/pending.png","components/Pokemon/PokemonPendingView.jsx","components/Pokemon/error.jpg","components/Pokemon/PokemonErrorView.jsx","components/Pokemon/PokemonInfo.jsx","components/Pokemon/services/pokemonAPI.js","components/Pokemon/Pokemon.jsx","pages/PokemonPage.jsx"],"names":["styles","form","marginBottom","PokemonForm","state","pokemonName","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","style","type","name","pokemonNameChange","onChange","marginRight","Component","PokemonDataView","pokemon","sprites","stats","src","other","front_default","width","alt","map","entry","stat","base_stat","spinner","color","PokemonPendingView","pendingImage","role","size","className","PokemonErrorView","message","errorImage","Status","PokemonInfo","status","prevProps","prevState","prevName","nextName","setTimeout","fetch","then","response","ok","json","Promise","reject","Error","catch","Pokemon","handleFormSubmit","maxWidth","margin","padding","PokemonPage"],"mappings":"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","file":"static/js/Pokemon.edb8c7d8.chunk.js","sourcesContent":["import { Component } from \"react\";\nimport { ImSearch } from \"react-icons/im\";\nimport { toast } from \"react-toastify\";\n\nconst styles = { form: { marginBottom: 20 } };\n\nexport default class PokemonForm extends Component {\n  state = {\n    pokemonName: \"\",\n  };\n\n  handleNameChange = (e) => {\n    this.setState({ pokemonName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.pokemonName.trim() === \"\") {\n      toast.error(\"Введите другое имя\");\n      return;\n    }\n    this.props.onSubmit(this.state.pokemonName);\n    this.setState({ pokemonName: \"\" });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} style={styles.form}>\n        <input\n          type=\"text\"\n          name=\"pokemonName\"\n          value={this.state.pokemonNameChange}\n          onChange={this.handleNameChange}\n        />\n        <button type=\"submit\">\n          <ImSearch style={{ marginRight: 8 }} />\n          Найти\n        </button>\n      </form>\n    );\n  }\n}\n","export default function PokemonDataView({ pokemon: { sprites, name, stats } }) {\n  return (\n    <div>\n      <img\n        src={sprites.other[\"official-artwork\"].front_default}\n        width=\"240\"\n        alt={name}\n      />\n      <h2>{name}</h2>\n      <ul>\n        {stats.map((entry) => (\n          <li key={entry.stat.name}>\n            {entry.stat.name}: {entry.base_stat}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/pending.55bf86f6.png\";","import { ImSpinner } from \"react-icons/im\";\nimport PokemonDataView from \"./PokemonDataView\";\nimport pendingImage from \"./pending.png\";\n\nconst styles = {\n  spinner: {\n    color: \"red\",\n  },\n};\n\nexport default function PokemonPendingView({ pokemonName }) {\n  // react skeleton\n  const pokemon = {\n    name: pokemonName,\n    sprites: {\n      other: {\n        \"official-artwork\": {\n          front_default: pendingImage,\n        },\n      },\n    },\n    stats: [],\n  };\n\n  return (\n    <div role=\"alert\">\n      <div style={styles.spinner}>\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\n        Loading...\n      </div>\n      <PokemonDataView pokemon={pokemon} />\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/error.ae7e0a6b.jpg\";","import errorImage from \"./error.jpg\";\n\nexport default function PokemonErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} width=\"248\" alt=\"sad cat\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport { fetchPokemon } from \"./services/pokemonAPI\";\nimport PokemonPendingView from \"./PokemonPendingView\";\nimport PokemonDataView from \"./PokemonDataView\";\nimport PokemonErrorView from \"./PokemonErrorView\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nexport default class PokemonInfo extends Component {\n  state = {\n    pokemon: null,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.pokemonName;\n    const nextName = this.props.pokemonName;\n\n    if (prevName !== nextName) {\n      this.setState({ status: Status.PENDING });\n\n      setTimeout(() => {\n        fetchPokemon(nextName)\n          .then((pokemon) =>\n            this.setState({ pokemon, status: Status.RESOLVED })\n          )\n          .catch((error) => this.setState({ error, status: Status.REJECTED }));\n      }, 500);\n    }\n  }\n\n  render() {\n    const { pokemon, error, status } = this.state;\n    const { pokemonName } = this.props;\n\n    switch (status) {\n      case \"idle\": // !active\n        return <p>Введите имя покемона</p>;\n      // break;\n      case \"pending\": // Loading\n        return <PokemonPendingView pokemonName={pokemonName} />;\n      // break;\n      case \"rejected\": // Error\n        return <PokemonErrorView message={error.message} />;\n      // break;\n      case \"resolved\":\n        return <PokemonDataView pokemon={pokemon} />;\n      // break;\n      default:\n        break;\n    }\n\n    // // !active\n    // if (status === \"idle\") {\n    //   return <p>Введите имя покемона</p>;\n    // }\n\n    // // Loading\n    // if (status === \"pending\") {\n    //   return <PokemonPendingView pokemonName={pokemonName} />;\n    // }\n\n    // // Error\n    // if (status === \"rejected\") {\n    //   return <PokemonErrorView message={error.message} />;\n    // }\n\n    // // Done\n    // if (status === \"resolved\") {\n    //   return <PokemonDataView pokemon={pokemon} />;\n    // }\n  }\n}\n","export const fetchPokemon = (name) => {\n  return fetch(`https://pokeapi.co/api/v2/pokemon/${name}`).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    // Отвергает ответ от бека и генерит новый error.message\n    return Promise.reject(new Error(`Нет покемона с именем ${name}`));\n  });\n};\n","import { Component } from \"react\";\nimport PokemonForm from \"./PokemonForm\";\nimport PokemonInfo from \"./PokemonInfo\";\n\nexport default class Pokemon extends Component {\n  state = {\n    pokemonName: \"\",\n  };\n\n  handleFormSubmit = (pokemonName) => {\n    this.setState({ pokemonName });\n  };\n\n  /* =============================== fetch\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    setTimeout(() => {\n      fetch(\"https://pokeapi.co/api/v2/pokemon/ditto\")\n        .then((res) => res.json())\n        .then((pokemon) => this.setState({ pokemon }))\n        .finally(() => this.setState({ loading: false }));\n    }, 1000);\n  }\n\n  ------------------------------------------- */\n\n  render() {\n    return (\n      <div style={{ maxWidth: 1170, margin: \"0 auto\", padding: 20 }}>\n        <PokemonForm onSubmit={this.handleFormSubmit} />\n        <PokemonInfo pokemonName={this.state.pokemonName} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Pokemon from \"../components/Pokemon\";\nimport \"../components/Pokemon/PokemonStyle.css\";\n\nconst PokemonPage = () => {\n  return (\n    <>\n      <h1>Pokemon</h1>\n      <Pokemon />\n\n      <ul>\n        <li>use React-Toastify</li>\n        <li>use React Icons</li>\n        <li>use server</li>\n      </ul>\n    </>\n  );\n};\n\nexport default PokemonPage;\n"],"sourceRoot":""}